:root { --stickyTop: 64px; }

* { box-sizing: border-box; }
body {
  margin: 0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color:#0f172a;
  background:#ffffff;
}
h1,h3 { margin: 0; }

/* Header */
.app-header{
  display:flex; justify-content:space-between; align-items:center;
  padding:10px 16px; background:#0b4a99; color:#fff; position:sticky; top:0; z-index:1000;
  box-shadow:0 2px 4px rgba(0,0,0,.08);
}
.app-header .brand{display:flex; gap:10px; align-items:center;}
.app-header .brand img{border-radius:6px; background:#fff;}
.app-header .header-actions button,
.app-header .header-actions a{margin-left:8px}

/* KPIs */
#kpis{display:grid; grid-template-columns: repeat(6, minmax(120px,1fr)); gap:10px; padding:10px 16px;}
.kpi{background:#f8fafc; border:1px solid #e5e7eb; border-radius:8px; padding:8px 12px;}
.kpi div{font-size:12px; color:#6b7280;}
.kpi strong{font-size:18px;}

/* Filtros */
#filters{padding:8px 16px;}
#filters .row{display:flex; flex-wrap:wrap; gap:8px; align-items:center; margin-bottom:6px;}
#filters label{font-size:12px; color:#475569}

/* Gráficos */
#charts{display:grid; grid-template-columns: 2fr 1fr 1fr; gap:12px; padding:8px 16px;}
.card{border:1px solid #e5e7eb; border-radius:8px; padding:10px; background:#fff; height: 280px;}
.card h3{font-size:14px; margin-bottom:8px; color:#334155}
#charts .card canvas{ width:100% !important; height:220px !important; }

/* Scroll superior sincronizado */
#top-scroll{height:12px; overflow:auto; margin:0 16px;}

/* Tabla */
.table-wrap{
  margin: 8px 16px;
  overflow: auto;              /* scroll horizontal y vertical si hace falta */
}
.table-wrap table{
  border-collapse: collapse;
  width: max-content;          /* ancho real según columnas */
  min-width: 100%;             /* pero no menos que el contenedor */
}
/* encabezado fijo */
.table-wrap thead th{
  position: sticky;
  top: var(--stickyTop, 64px); /* SOLO header azul */
  z-index: 3;
  background: #fff;
  border-bottom: 2px solid #e5e5e5;
}
/* celdas */
.table-wrap th,
.table-wrap td{
  border:1px solid #e5e7eb;
  padding: 8px 10px;
  line-height: 1.15;
  vertical-align: top;
  white-space: nowrap;
}

.pager{padding:8px 16px; display:flex; gap:8px; align-items:center;}
.pager button{padding:6px 10px}

/* ---- Responsive columns (v3) ---- */
:root{ --stickyTop:64px; }
table.compact thead th[data-col="F8 SISCONI"],
table.compact tbody td[data-col="F8 SISCONI"],
table.compact thead th[data-col="SUSTANCIAS"],
table.compact tbody td[data-col="SUSTANCIAS"],
table.compact thead th[data-col="CANT. ASIG."],
table.compact tbody td[data-col="CANT. ASIG."],
table.compact thead th[data-col="CANT. SOL."],
table.compact tbody td[data-col="CANT. SOL."],
table.compact thead th[data-col="RENGLONES ASIG."],
table.compact tbody td[data-col="RENGLONES ASIG."],
table.compact thead th[data-col="RENGLONES SOL."],
table.compact tbody td[data-col="RENGLONES SOL."]{ display:none; }

/* Auto-compact for narrow screens */
@media (max-width: 1100px){
  #ordersTable{ width:100%; }
  #ordersTable.compact{ table-layout: fixed; }
}
